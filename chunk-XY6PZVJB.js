import{j as f,r as z}from"./chunk-SFFVLTT7.js";import{Ia as x,Ja as M,La as P,M as w,Ma as s,Na as c,Oa as _,Qa as O,Ra as k,Ta as E,Ua as V,Va as S,Wa as m,Xa as g,Za as h,_a as v,qa as p,ua as C,za as u}from"./chunk-5WKD3GOQ.js";var Q=["*"],b=class d{variant="primary";disabled=!1;type="button";static \u0275fac=function(t){return new(t||d)};static \u0275cmp=u({type:d,selectors:[["app-button"]],inputs:{variant:"variant",disabled:"disabled",type:"type"},ngContentSelectors:Q,decls:2,vars:5,consts:[[3,"type","disabled"]],template:function(t,n){t&1&&(O(),s(0,"button",0),k(1),c()),t&2&&(P("button button--"+n.variant),M("type",n.type)("disabled",n.disabled),x("aria-disabled",n.disabled))},dependencies:[f],styles:['.button[_ngcontent-%COMP%]{padding:1rem 2rem;border:none;font-size:.95rem;font-weight:600;cursor:pointer;transition:all .3s ease;text-decoration:none;display:inline-block;min-width:10rem;text-transform:uppercase;color:var(--theme-color-extra_dark);position:relative;overflow:hidden}.button[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.6}.button--primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--theme-color-text_link),var(--theme-color-text_hover));color:var(--theme-color-text_light);box-shadow:0 .25rem .75rem #0003}.button--primary[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,var(--theme-color-text_hover),var(--theme-color-text_link));opacity:0;transition:opacity .3s ease;z-index:-1}.button--primary[_ngcontent-%COMP%]:hover:not(:disabled){box-shadow:0 .375rem 1rem #0000004d;color:var(--theme-color-text_light)}.button--primary[_ngcontent-%COMP%]:hover:not(:disabled):before{opacity:1}.button--secondary[_ngcontent-%COMP%]{background:transparent;color:var(--theme-color-extra_dark);border:.125rem solid var(--theme-color-extra_dark);-webkit-backdrop-filter:blur(.625rem);backdrop-filter:blur(.625rem)}.button--secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--theme-color-text_hover);color:var(--theme-color-text_light);border-color:var(--theme-color-text_hover)}.button--orange[_ngcontent-%COMP%]{background:var(--theme-color-alter_link);color:var(--theme-color-text_light);box-shadow:0 .25rem .75rem #0003;font-weight:700;padding:1.25rem 3rem;min-width:15rem}.button--orange[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--theme-color-text_hover);box-shadow:0 .375rem 1rem #0000004d;color:var(--theme-color-text_light)}@media (max-width: 48rem){.button[_ngcontent-%COMP%]{width:100%;max-width:20rem}}@media (prefers-reduced-motion: reduce){.button[_ngcontent-%COMP%]{transition:none}}']})};var y=class d{videoQualities=[{width:1280,height:720,src:"assets/videos/background_720p.webm",format:"webm",quality:"medium",estimatedSize:3},{width:1920,height:1080,src:"assets/videos/background_1080p.webm",format:"webm",quality:"high",estimatedSize:5},{width:1280,height:720,src:"assets/videos/background_720p.mp4",format:"mp4",quality:"medium",estimatedSize:4},{width:1920,height:1080,src:"assets/videos/background_1080p.mp4",format:"mp4",quality:"high",estimatedSize:7},{width:3840,height:2160,src:"assets/videos/13896677_3840_2160_30fps.mp4",format:"mp4",quality:"ultra",estimatedSize:56}];getOptimalVideoQuality(){let e=window.devicePixelRatio||1,t=window.screen.width*e,n=this.getConnectionInfo(),o="ultra";return n.isSlowConnection?o="medium":n.effectiveType==="3g"&&(o="high"),this.videoQualities.filter(r=>{if(r.width>t*1.5)return!1;let a={low:0,medium:1,high:2,ultra:3};return!(a[r.quality]>a[o])}).sort((r,a)=>{if(r.format==="webm"&&a.format==="mp4")return-1;if(r.format==="mp4"&&a.format==="webm")return 1;let l={low:0,medium:1,high:2,ultra:3};return l[a.quality]-l[r.quality]})}preloadVideo(e,t){return new Promise((n,o)=>{let i=r=>{if(r>=t.length){o(new Error("No suitable video format found"));return}let a=t[r],l=document.createElement("video");l.addEventListener("canplaythrough",()=>{this.updateVideoSources(e,t.slice(r)),n()},{once:!0}),l.addEventListener("error",()=>{i(r+1)},{once:!0}),l.src=a.src,l.load()};i(0)})}updateVideoSources(e,t){e.querySelectorAll("source").forEach(o=>o.remove()),t.forEach(o=>{let i=document.createElement("source");i.src=o.src,i.type=o.format==="webm"?"video/webm":"video/mp4",e.appendChild(i)}),e.load()}getConnectionInfo(){let e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return{effectiveType:e?.effectiveType||"4g",isSlowConnection:e?.effectiveType==="slow-2g"||e?.effectiveType==="2g"||e?.saveData===!0||!1,saveData:e?.saveData||!1}}generatePosterFromVideo(e){return new Promise((t,n)=>{let o=document.createElement("video"),i=document.createElement("canvas"),r=i.getContext("2d");o.addEventListener("loadeddata",()=>{i.width=o.videoWidth,i.height=o.videoHeight,o.currentTime=o.duration*.1}),o.addEventListener("seeked",()=>{if(r){r.drawImage(o,0,0,i.width,i.height);let a=i.toDataURL("image/jpeg",.8);t(a)}else n(new Error("Could not generate poster"))}),o.addEventListener("error",n),o.src=e})}static \u0275fac=function(t){return new(t||d)};static \u0275prov=w({token:d,factory:d.\u0275fac,providedIn:"root"})};var R=["backgroundVideo"],L=class d{constructor(e){this.videoOptimizationService=e}videoRef;isSlowConnection=!1;ngAfterViewInit(){this.detectConnectionSpeed();let e=this.videoRef.nativeElement;this.optimizeVideoLoading(e),e.addEventListener("loadeddata",()=>{e.setAttribute("data-loaded","true")}),e.addEventListener("canplay",()=>{e.setAttribute("data-loaded","true")}),e.muted=!0,e.playsInline=!0;let t=e.play();t!==void 0&&t.then(()=>{}).catch(n=>{console.error("Video autoplay failed:",n),this.setupUserInteractionPlay(e)}),e.addEventListener("ended",()=>{e.currentTime=0,e.play()})}setupUserInteractionPlay(e){let t=()=>{e.play(),document.removeEventListener("click",t),document.removeEventListener("touchstart",t)};document.addEventListener("click",t),document.addEventListener("touchstart",t)}detectConnectionSpeed(){let e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;e&&(this.isSlowConnection=e.effectiveType==="slow-2g"||e.effectiveType==="2g"||e.saveData===!0),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&!e&&(this.isSlowConnection=!0)}optimizeVideoLoading(e){this.isSlowConnection?(e.preload="none",e.querySelectorAll("source").forEach((n,o)=>{let i=n.getAttribute("src");i&&(i.includes("1080p")||i.includes("4K"))&&n.remove()})):e.preload="metadata",e.addEventListener("loadstart",()=>{console.log("Video loading started")}),e.addEventListener("canplay",()=>{console.log("Video can start playing")})}static \u0275fac=function(t){return new(t||d)(C(y))};static \u0275cmp=u({type:d,selectors:[["app-home"]],viewQuery:function(t,n){if(t&1&&E(R,5),t&2){let o;V(o=S())&&(n.videoRef=o.first)}},decls:24,vars:9,consts:[["backgroundVideo",""],[1,"video-container"],["autoplay","","muted","","loop","","playsinline","","preload","none","loading","lazy","poster","assets/images/video-poster.jpg",1,"video-element"],["src","assets/videos/background_720p.webm","type","video/webm"],["src","assets/videos/background_720p.mp4","type","video/mp4"],["src","assets/videos/background_1080p.webm","type","video/webm"],["src","assets/videos/background_1080p.mp4","type","video/mp4"],[1,"video-overlay"],[1,"main-content"],[1,"hero"],[1,"hero__container"],[1,"hero__subtitle"],[1,"hero__title"],[1,"hero__actions"],["variant","orange"],[1,"home-page"],[1,"page-title"]],template:function(t,n){t&1&&(s(0,"div",1)(1,"video",2,0),_(3,"source",3)(4,"source",4)(5,"source",5)(6,"source",6),c(),_(7,"div",7),c(),s(8,"main",8)(9,"section",9)(10,"div",10)(11,"p",11),m(12),h(13,"translate"),c(),s(14,"h1",12),m(15),h(16,"translate"),c(),s(17,"div",13)(18,"app-button",14),m(19),h(20,"translate"),c()()()(),s(21,"div",15)(22,"h1",16),m(23,"Home"),c()()()),t&2&&(p(12),g(v(13,3,"HERO.SUBTITLE")),p(3),g(v(16,5,"HERO.TITLE")),p(4),g(v(20,7,"HERO.CTA_PRIMARY")))},dependencies:[f,z,b],styles:[".video-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100vh;z-index:0;overflow:hidden;background:#000}.video-container[_ngcontent-%COMP%]   .video-element[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;min-width:100%;min-height:100%;width:auto;height:auto;transform:translate(-50%,-50%);object-fit:cover;background-color:#000;will-change:transform;backface-visibility:hidden;-webkit-backface-visibility:hidden;image-rendering:-webkit-optimize-contrast;image-rendering:optimize-contrast;opacity:0;transition:opacity .5s ease-in-out}.video-container[_ngcontent-%COMP%]   .video-element[data-loaded=true][_ngcontent-%COMP%]{opacity:1}@media (max-width: 768px){.video-container[_ngcontent-%COMP%]   .video-element[_ngcontent-%COMP%]{image-rendering:auto}}.video-container[_ngcontent-%COMP%]   .video-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:1}[_nghost-%COMP%]{position:relative;display:block;min-height:100vh}.main-content[_ngcontent-%COMP%]{position:relative;z-index:2;min-height:100vh}.hero[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:100vh;padding:0 1rem}.hero__container[_ngcontent-%COMP%]{text-align:center;max-width:100%;color:var(--theme-color-text_light)}.hero__subtitle[_ngcontent-%COMP%]{font-size:var(--font-size-hero-subtitle-responsive);font-weight:400;margin-bottom:.75rem;line-height:1.4;color:var(--theme-color-text_light);opacity:.9}.hero__title[_ngcontent-%COMP%]{font-size:var(--font-size-hero-title-responsive);font-weight:600;margin-top:0;margin-bottom:2rem;line-height:1.1;color:var(--theme-color-text_light);letter-spacing:-.02em}.hero__actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;justify-content:center;align-items:center}@media (min-width: 48rem){.video-container[_ngcontent-%COMP%]   .video-overlay[_ngcontent-%COMP%]{background:#0006}.hero[_ngcontent-%COMP%]{padding:0 2rem}.hero__container[_ngcontent-%COMP%]{max-width:48rem}.hero__subtitle[_ngcontent-%COMP%]{margin-bottom:1rem}.hero__title[_ngcontent-%COMP%]{margin-bottom:2.5rem}.hero__actions[_ngcontent-%COMP%]{flex-direction:row;gap:1.5rem;flex-wrap:wrap}}@media (min-width: 64rem){.hero__container[_ngcontent-%COMP%]{max-width:60rem}.hero__title[_ngcontent-%COMP%]{margin-bottom:3rem}}@media (prefers-reduced-motion: reduce){.video-container[_ngcontent-%COMP%]   .video-element[_ngcontent-%COMP%]{animation:none}}.home-page[_ngcontent-%COMP%]{background-color:var(--theme-color-bg_color);color:var(--theme-color-text_dark);min-height:100vh;display:flex;align-items:center;justify-content:center;padding:2rem}.page-title[_ngcontent-%COMP%]{font-size:var(--font-size-section-title);font-weight:700;text-align:center;margin:0}"]})};export{L as HomeComponent};
